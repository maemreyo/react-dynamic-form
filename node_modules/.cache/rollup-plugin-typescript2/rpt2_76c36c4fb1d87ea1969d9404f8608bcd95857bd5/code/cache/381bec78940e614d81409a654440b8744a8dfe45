{"code":"import { getInputTypeFromValue } from '../../inputs/utils';\nimport { getErrorMessage } from './validationUtils';\nimport { get } from 'react-hook-form';\n/**\n * Generates the form fields array based on the flattened config and form state.\n *\n * @param flattenedConfig - The flattened form configuration.\n * @param formState - The `react-hook-form` form state.\n * @returns The form fields array.\n */\nexport const getFields = (flattenedConfig, formState) => {\n    return Object.entries(flattenedConfig).map(([key, fieldConfig]) => {\n        // Retrieve the default value from fieldConfig\n        const defaultValue = fieldConfig.defaultValue;\n        const inputType = fieldConfig.type || getInputTypeFromValue(defaultValue);\n        const fieldError = get(formState.errors, key);\n        const errorMessage = getErrorMessage(fieldConfig, fieldError, {});\n        return {\n            label: fieldConfig.label,\n            id: key,\n            type: inputType,\n            error: errorMessage\n                ? {\n                    ...fieldError,\n                    message: errorMessage,\n                    type: fieldError?.type || '',\n                } // Merge errorMessage into fieldError and ensure type is always defined\n                : fieldError, // Use the unwrapped fieldError\n        };\n    });\n};\n//# sourceMappingURL=fieldUtils.js.map","references":["/Users/matthewngo/Documents/dev/projects/react-dynamic-form/src/features/dynamic-form/types.ts","/Users/matthewngo/Documents/dev/projects/react-dynamic-form/src/features/inputs/utils.ts","/Users/matthewngo/Documents/dev/projects/react-dynamic-form/src/features/dynamic-form/utils/validationUtils.ts","/Users/matthewngo/Documents/dev/projects/react-dynamic-form/node_modules/react-hook-form/dist/index.d.ts","/Users/matthewngo/Documents/dev/projects/react-dynamic-form/node_modules/react-hook-form/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"fieldUtils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../../src/features/dynamic-form/utils/fieldUtils.ts\"],\"names\":[],\"mappings\":\"AAEA,OAAO,EAAE,qBAAqB,EAAE,MAAM,oBAAoB,CAAC;AAC3D,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAAE,GAAG,EAAE,MAAM,iBAAiB,CAAC;AAGtC;;;;;;GAMG;AACH,MAAM,CAAC,MAAM,SAAS,GAAG,CACvB,eAAoB,EACpB,SAAgC,EACnB,EAAE;IACf,OAAO,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,WAAW,CAAC,EAAE,EAAE;QAChE,8CAA8C;QAC9C,MAAM,YAAY,GAAI,WAA2B,CAAC,YAAY,CAAC;QAE/D,MAAM,SAAS,GACZ,WAA2B,CAAC,IAAI,IAAI,qBAAqB,CAAC,YAAY,CAAC,CAAC;QAE3E,MAAM,UAAU,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,GAAG,CAA2B,CAAC;QACxE,MAAM,YAAY,GAAG,eAAe,CAClC,WAA0B,EAC1B,UAAU,EACV,EAAE,CACH,CAAC;QAEF,OAAO;YACL,KAAK,EAAG,WAA2B,CAAC,KAAK;YACzC,EAAE,EAAE,GAAG;YACP,IAAI,EAAE,SAAS;YACf,KAAK,EAAE,YAAY;gBACjB,CAAC,CAAC;oBACE,GAAG,UAAU;oBACb,OAAO,EAAE,YAAY;oBACrB,IAAI,EAAE,UAAU,EAAE,IAAI,IAAI,EAAE;iBAC7B,CAAC,uEAAuE;gBAC3E,CAAC,CAAC,UAAU,EAAE,+BAA+B;SAChD,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC\"}"}
