"use strict";
self["webpackHotUpdate_matthew_ngo_react_dynamic_form"]("src_index_ts",{

/***/ "./src/features/inputs/components/NumberInput.tsx":
/*!********************************************************!*\
  !*** ./src/features/inputs/components/NumberInput.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-hook-form */ "./node_modules/react-hook-form/dist/index.esm.mjs");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../styles */ "./src/styles.ts");
/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styled-components */ "./node_modules/styled-components/dist/styled-components.browser.esm.js");
/* harmony import */ var _theme_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../theme/ThemeProvider */ "./src/theme/ThemeProvider.tsx");
// Filepath: /src/features/inputs/components/NumberInput.tsx






var NumberInputContainer = styled_components__WEBPACK_IMPORTED_MODULE_3__["default"].div(templateObject_1 || (templateObject_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  input {\n    text-align: center;\n    padding-right: 0;\n    width: 100px;\n  }\n"], ["\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  input {\n    text-align: center;\n    padding-right: 0;\n    width: 100px;\n  }\n"])));
var SpinButton = styled_components__WEBPACK_IMPORTED_MODULE_3__["default"].button(templateObject_2 || (templateObject_2 = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__makeTemplateObject)(["\n  background: none;\n  border: 1px solid ", ";\n  padding: 0 ", ";\n  height: 100%;\n  font-size: ", ";\n  line-height: 0;\n  color: ", ";\n  cursor: pointer;\n  &:hover {\n    background-color: ", ";\n  }\n  &:disabled {\n    cursor: default;\n    background-color: #efefef;\n  }\n  &:first-of-type {\n    border-radius: ", " 0 0\n      ", ";\n    border-right: none;\n  }\n  &:last-of-type {\n    border-radius: 0 ", "\n      ", " 0;\n    border-left: none;\n  }\n"], ["\n  background: none;\n  border: 1px solid ", ";\n  padding: 0 ", ";\n  height: 100%;\n  font-size: ", ";\n  line-height: 0;\n  color: ", ";\n  cursor: pointer;\n  &:hover {\n    background-color: ", ";\n  }\n  &:disabled {\n    cursor: default;\n    background-color: #efefef;\n  }\n  &:first-of-type {\n    border-radius: ", " 0 0\n      ", ";\n    border-right: none;\n  }\n  &:last-of-type {\n    border-radius: 0 ", "\n      ", " 0;\n    border-left: none;\n  }\n"])), function (_a) {
    var theme = _a.theme;
    return theme.colors.border;
}, function (_a) {
    var theme = _a.theme;
    return theme.space.xl;
}, function (_a) {
    var theme = _a.theme;
    return theme.fontSizes.large;
}, function (_a) {
    var theme = _a.theme;
    return theme.colors.text;
}, function (_a) {
    var theme = _a.theme;
    return theme.colors['light-500'];
}, function (_a) {
    var theme = _a.theme;
    return theme.radii.md;
}, function (_a) {
    var theme = _a.theme;
    return theme.radii.md;
}, function (_a) {
    var theme = _a.theme;
    return theme.radii.md;
}, function (_a) {
    var theme = _a.theme;
    return theme.radii.md;
});
var NumberInput = function (_a) {
    var _b, _c, _d;
    var id = _a.id, fieldConfig = _a.fieldConfig, _e = _a.formClassNameConfig, formClassNameConfig = _e === void 0 ? {} : _e, disableAutocomplete = _a.disableAutocomplete, showInlineError = _a.showInlineError, horizontalLabel = _a.horizontalLabel, labelWidth = _a.labelWidth, error = _a.error;
    var theme = (0,_theme_ThemeProvider__WEBPACK_IMPORTED_MODULE_2__.useTheme)();
    var label = fieldConfig.label;
    var control = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_5__.useFormContext)().control;
    var field = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_5__.useController)({
        name: id,
        control: control,
        rules: fieldConfig.validation,
        defaultValue: fieldConfig.defaultValue,
    }).field;
    var _f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(+field.value || 0), internalValue = _f[0], setInternalValue = _f[1];
    var clampValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (value) {
        var _a = fieldConfig.validation || {}, min = _a.min, max = _a.max;
        var clampedValue = value;
        if (min !== undefined && typeof min === 'object' && value < +min.value) {
            clampedValue = +min.value;
        }
        if (max !== undefined && typeof max === 'object' && value > +max.value) {
            clampedValue = +max.value;
        }
        return clampedValue;
    }, [fieldConfig.validation]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        setInternalValue(+field.value || 0);
    }, [field.value]);
    var handleIncrement = function () {
        var newValue = clampValue(internalValue + 1);
        setInternalValue(newValue);
        field.onChange(newValue);
    };
    var handleDecrement = function () {
        var newValue = clampValue(internalValue - 1);
        setInternalValue(newValue);
        field.onChange(newValue);
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_styles__WEBPACK_IMPORTED_MODULE_1__.InputWrapper, { "$horizontalLabel": horizontalLabel, "$labelWidth": labelWidth, className: formClassNameConfig.inputWrapper },
        label && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_styles__WEBPACK_IMPORTED_MODULE_1__.Label, { htmlFor: id, "$horizontalLabel": horizontalLabel, "$labelWidth": labelWidth, className: formClassNameConfig.label },
            label,
            ((_b = fieldConfig.validation) === null || _b === void 0 ? void 0 : _b.required) && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { style: { color: theme.colors.danger } }, "*")))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(NumberInputContainer, { className: formClassNameConfig.numberInputContainer },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SpinButton, { type: "button", onClick: handleDecrement, className: formClassNameConfig.numberInputButton, disabled: ((_c = fieldConfig.validation) === null || _c === void 0 ? void 0 : _c.min) !== undefined &&
                    typeof fieldConfig.validation.min === 'object' &&
                    internalValue <= +fieldConfig.validation.min.value }, "-"),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_styles__WEBPACK_IMPORTED_MODULE_1__.Input, (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__assign)({}, field, { className: formClassNameConfig.number, type: "number", id: id, onChange: function (e) {
                    field.onChange(e);
                    setInternalValue(+e.target.value);
                }, onBlur: function (e) {
                    field.onBlur();
                    var clampedValue = clampValue(+e.target.value);
                    setInternalValue(clampedValue);
                    field.onChange(clampedValue);
                }, value: internalValue, autoComplete: disableAutocomplete ? 'off' : undefined })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SpinButton, { type: "button", onClick: handleIncrement, className: formClassNameConfig.numberInputButton, disabled: ((_d = fieldConfig.validation) === null || _d === void 0 ? void 0 : _d.max) !== undefined &&
                    typeof fieldConfig.validation.max === 'object' &&
                    internalValue >= +fieldConfig.validation.max.value }, "+")),
        showInlineError && error && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_styles__WEBPACK_IMPORTED_MODULE_1__.ErrorMessage, { className: formClassNameConfig.errorMessage }, error.message))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NumberInput);
;
NumberInput.__docgenInfo = { "description": "", "methods": [], "displayName": "NumberInput", "props": { "id": { "required": true, "tsType": { "name": "string" }, "description": "" }, "fieldConfig": { "required": true, "tsType": { "name": "FieldConfig" }, "description": "" }, "formClassNameConfig": { "required": false, "tsType": { "name": "FormClassNameConfig" }, "description": "", "defaultValue": { "value": "{}", "computed": false } }, "showInlineError": { "required": false, "tsType": { "name": "boolean" }, "description": "" }, "horizontalLabel": { "required": false, "tsType": { "name": "boolean" }, "description": "" }, "labelWidth": { "required": false, "tsType": { "name": "union", "raw": "string | number", "elements": [{ "name": "string" }, { "name": "number" }] }, "description": "" }, "error": { "required": false, "tsType": { "name": "FieldError" }, "description": "" }, "disableAutocomplete": { "required": false, "tsType": { "name": "boolean" }, "description": "" } } };
NumberInput.__docgenInfo = { "description": "", "methods": [], "displayName": "NumberInput", "props": { "id": { "required": true, "tsType": { "name": "string" }, "description": "" }, "fieldConfig": { "required": true, "tsType": { "name": "FieldConfig" }, "description": "" }, "formClassNameConfig": { "required": false, "tsType": { "name": "FormClassNameConfig" }, "description": "", "defaultValue": { "value": "{}", "computed": false } }, "showInlineError": { "required": false, "tsType": { "name": "boolean" }, "description": "" }, "horizontalLabel": { "required": false, "tsType": { "name": "boolean" }, "description": "" }, "labelWidth": { "required": false, "tsType": { "name": "union", "raw": "string | number", "elements": [{ "name": "string" }, { "name": "number" }] }, "description": "" }, "error": { "required": false, "tsType": { "name": "FieldError" }, "description": "" }, "disableAutocomplete": { "required": false, "tsType": { "name": "boolean" }, "description": "" } } };
var templateObject_1, templateObject_2;


/***/ })

});
//# sourceMappingURL=src_index_ts.aa019e1e9c3d6cee2f12.hot-update.js.map